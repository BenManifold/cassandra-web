webpackJsonp([1],{"/zJ0":function(e,t){},"0DJ8":function(e,t){},"1qvS":function(e,t){},"4/hK":function(e,t){},"7bcC":function(e,t){},BMy3:function(e,t){},CT0B:function(e,t){},GfWL:function(e,t){},KMjz:function(e,t){},KZ8L:function(e,t){},LJE9:function(e,t){},LuM7:function(e,t){},Mobx:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("7bcC"),n("jDwb");var a=n("2X9z"),r=n.n(a),o=(n("Mobx"),n("+TD8")),s=n.n(o),i=(n("f0OM"),n("mWcH")),c=n.n(i),u=(n("Y+uZ"),n("cgIP")),l=n.n(u),p=(n("vkwB"),n("HJMx")),f=n.n(p),d=(n("0DJ8"),n("6oiW")),m=n.n(d),h=(n("UjAo"),n("eBGF")),v=n.n(h),y=(n("KZ8L"),n("fDPO")),w=n.n(y),g=(n("jlNI"),n("RDoK")),k=n.n(g),b=(n("Sm8n"),n("oTyR")),x=n.n(b),$=(n("ovMW"),n("6mNG")),_=n.n($),C=(n("QIAS"),n("D8db")),E=n.n(C),S=(n("lh9Z"),n("ACGT")),q=n.n(S),M=(n("BMy3"),n("exT9")),j=n.n(M),z=(n("SUQY"),n("SExR")),F=n.n(z),R=(n("CT0B"),n("q4le")),U=n.n(R),T=(n("sCLk"),n("LR6y")),Q=n.n(T),A=(n("a9Mr"),n("nu7/")),D=n.n(A),P=n("7+uW"),O=n("wUZ8"),L=n.n(O),G=n("urW8"),V=n.n(G);n("LuM7");V.a.use(L.a),P.default.use(D.a.directive),P.default.use(Q.a),P.default.use(U.a),P.default.use(F.a),P.default.use(j.a),P.default.use(q.a),P.default.use(E.a),P.default.use(_.a),P.default.use(x.a),P.default.use(k.a),P.default.use(w.a),P.default.use(v.a),P.default.use(m.a),P.default.use(f.a),P.default.use(l.a),P.default.use(c.a),P.default.config.lang="en-us",P.default.prototype.$loading=D.a.service,P.default.prototype.$prompt=s.a.prompt,P.default.prototype.$msgbox=s.a,P.default.prototype.$message=r.a;var J=n("E5Az"),K=n.n(J);n("4/hK");P.default.use(K.a);var N={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view",{directives:[{name:"loading",rawName:"v-loading",value:!1,expression:"false"}]})},staticRenderFns:[]};var W=n("VU/8")({name:"App"},N,!1,function(e){n("1qvS")},null,null).exports,B=n("/ocq"),Z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"content"},[t("div",{staticClass:"title"},[t("router-link",{attrs:{to:"/main"}},[this._v("Cassandra-Web")])],1)])])},staticRenderFns:[]};var H=n("VU/8")({name:"Home",data:function(){return{}},created:function(){},methods:{}},Z,!1,function(e){n("PtQk")},null,null).exports,Y=n("Xxa5"),I=n.n(Y),X=n("exGp"),ee=n.n(X),te=n("HdQ4"),ne=n.n(te),ae=window.location.origin,re={root:{keyspace:{type:"GET",url:ae+"/keyspace"},table:{type:"GET",url:ae+"/table"},row:{type:"GET",url:ae+"/row"},query:{type:"POST",url:ae+"/query"},save:{type:"POST",url:ae+"/save"},columns:{type:"GET",url:ae+"/columns"},describe:{type:"GET",url:ae+"/describe"}}},oe=new ne.a(re,{cors:!1}),se=oe.make("root"),ie={name:"side-bar",data:function(){return{isCollapse:!1,keyspace:[]}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;return ee()(I.a.mark(function t(){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se.request("keyspace");case 3:n=t.sent,e.keyspace=n.get(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$message({type:"error",showClose:!0,message:t.t0});case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()},goToKeyspace:function(e){var t=this;return ee()(I.a.mark(function n(){return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.$router.push({name:"table-list",params:{keyspace:e}});case 1:case"end":return n.stop()}},n,t)}))()},openQuery:function(){var e,t=this;this.$prompt("Enter Query","CQL Query",{confirmButtonText:"Execute",cancelButtonText:"Cancel",inputType:"textarea"}).then((e=ee()(I.a.mark(function e(n){var a=n.value;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$router.push({name:"query",params:{query:""+a}});case 1:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})).catch(function(){t.$message({type:"info",message:"Cancel Query"})})},toggleMenu:function(){this.isCollapse=!this.isCollapse}}},ce={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.$route.params.keyspace,"collapse-transition":!1,collapse:e.isCollapse}},[e._l(e.keyspace,function(t,a){return n("el-menu-item",{key:t.keyspace_name,attrs:{index:t.keyspace_name},on:{click:function(n){e.goToKeyspace(t.keyspace_name)}}},[n("i",{staticClass:"el-icon-tickets"}),n("span",{attrs:{lot:"title"}},[e._v(e._s(t.keyspace_name))])])}),n("el-menu-item",{attrs:{index:"-1"},on:{click:e.openQuery}},[n("i",{staticClass:"el-icon-edit"}),n("span",{attrs:{lot:"title"}},[e._v("Query")])]),n("el-menu-item",{attrs:{index:"-2"},on:{click:e.toggleMenu}},[n("i",{class:[e.isCollapse?"el-icon-caret-right":"el-icon-caret-left"]}),n("span",{attrs:{lot:"title"}},[e._v("Folding menu")])])],2)},staticRenderFns:[]};var ue={name:"Main",components:{"side-bar-component":n("VU/8")(ie,ce,!1,function(e){n("kpmx")},null,null).exports}},le={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{width:"auto"}},[t("side-bar-component")],1),t("el-main",[t("router-view")],1)],1)},staticRenderFns:[]};var pe=n("VU/8")(ue,le,!1,function(e){n("b6Rg")},null,null).exports,fe=oe.make("root"),de={name:"Table",data:function(){return{tabledata:[]}},created:function(){this.fetch()},watch:{$route:function(){this.fetch()}},methods:{click:function(e){this.$router.push({path:e.keyspace_name+"/"+e.table_name,params:{keyspace:e.keyspace_name,table:e.table_name}})},fetch:function(){var e=this;return ee()(I.a.mark(function t(){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.request("table",{query:{keyspace:e.$route.params.keyspace}});case 3:n=t.sent,e.tabledata=n.get(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$message({type:"error",showClose:!0,message:t.t0});case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()},rowStyle:function(){return{cursor:"pointer"}}}},me={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-table",{staticStyle:{width:"100%"},attrs:{data:this.tabledata,"empty-text":"empty data",stripe:"stripe","row-style":this.rowStyle},on:{"row-click":this.click}},[t("el-table-column",{attrs:{prop:"table_name",label:"table_name"}}),t("el-table-column",{attrs:{prop:"id",label:"id"}})],1)},staticRenderFns:[]},he=n("VU/8")(de,me,!1,null,null,null).exports,ve=n("Q7hp"),ye=n.n(ve),we=n("kbi+"),ge=n.n(we),ke=n("+2oX"),be=n.n(ke),xe={data:function(){var e=be()(this.$route.path,"/");return{defaultActive:ye()(e,5),tabs:[{name:"rows",trigger:this.showRows},{name:"columns",trigger:this.Columns},{name:"definition",trigger:this.Definition}]}},methods:{handleSelect:function(e){var t=ye()(ge()(this.tabs,function(t){return t.name===e}),"trigger");t&&t()},showRows:function(){this.$router.push({name:"rows",params:{page:1,pagesize:50}})},Columns:function(){this.$router.push({name:"columns"})},Definition:function(){this.$router.push({name:"definition"})}}},$e={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.defaultActive,mode:"horizontal"},on:{select:e.handleSelect}},e._l(e.tabs,function(t,a){return n("el-menu-item",{key:t.name,attrs:{index:t.name}},[e._v(e._s(t.name))])}))},staticRenderFns:[]};var _e={components:{"menu-component":n("VU/8")(xe,$e,!1,function(e){n("WS+Y")},null,null).exports}},Ce={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-header",[t("menu-component")],1),t("el-container",[t("router-view")],1)],1)},staticRenderFns:[]};var Ee=n("VU/8")(_e,Ce,!1,function(e){n("/zJ0")},null,null).exports,Se={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title"},[n("span",[e._v("welcome to")]),n("span",{staticClass:"keyspaceName"},[e._v(e._s(" "+e.$route.params.keyspace))]),n("span",{staticClass:"tableName"},[e._v(e._s(" "+e.$route.params.table))]),n("span",[e._v(e._s("! :)"))])])},staticRenderFns:[]};var qe=n("VU/8")({},Se,!1,function(e){n("GfWL")},null,null).exports,Me=n("pFYg"),je=n.n(Me),ze=n("fZjL"),Fe=n.n(ze),Re=n("M4fF"),Ue=n("kx9P"),Te=n.n(Ue),Qe=oe.make("root"),Ae={name:"Rows",data:function(){return{keys:[],rowdata:[],rowcount:0,pagesize:50,isEdit:{},originalData:{}}},created:function(){this.fetch()},watch:{$route:function(){this.fetch()}},methods:{fetch:function(){var e=this;return ee()(I.a.mark(function t(){var n,a;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qe.request("row",{query:{limit:1e3,table:e.$route.params.keyspace+"."+e.$route.params.table,page:e.$route.params.page,pagesize:e.$route.params.pagesize}});case 3:n=t.sent,void 0!==(a=n.get("row"))&&a.length>0?(e.keys=Fe()(a[0]),e.rowdata=a.map(function(e){var t=e;return Object(Re.forEach)(t,function(e,n){"object"===(void 0===e?"undefined":je()(e))?t[n]=Te.a.stringify(e):t[n]=e}),t}),e.rowcount=n.get("count")):(e.keys=[],e.rowdata=[],e.rowcount=0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.$message({type:"error",showClose:!0,message:t.t0});case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()},handleCurrentChange:function(e){this.$router.push({name:"rows",params:{page:e}})},handleSizeChange:function(e){this.$router.push({name:"rows",params:{pagesize:e}})},rowFormatter:function(e,t,n){return n},handleActive:function(e,t){this.originalData[e]=t,this.$set(this.isEdit,e,!this.isEdit[e])},handleEdit:function(e,t,n){var a=this;return ee()(I.a.mark(function r(){var o,s,i;return I.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a.$set(a.isEdit,e,!a.isEdit[e]),a.originalData[e]!==t){r.next=3;break}return r.abrupt("return");case 3:return o=Object(Re.cloneDeep)(n),Object(Re.forEach)(o,function(e,t){o[t]=a.jsonParams(e)}),r.prev=5,r.next=8,Qe.request("save",{data:{item:Te.a.stringify(o),table:a.$route.params.keyspace+"."+a.$route.params.table}});case 8:s=r.sent,i=s.get()===[]?"success":s.get(),a.$message({showClose:!0,duration:0,message:i}),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(5),a.$message({type:"error",showClose:!0,duration:0,message:r.t0.body.message});case 16:case"end":return r.stop()}},r,a,[[5,13]])}))()},rowStyle:function(){return{cursor:"pointer"}},jsonParams:function(e){try{return Te.a.parse(e)}catch(t){return e}}}},De={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w100"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rowdata,"highlight-current-row":!0,"empty-text":"empty data",stripe:"stripe","row-style":e.rowStyle}},e._l(e.keys,function(t){return n("el-table-column",{key:t,attrs:{formatter:e.rowFormatter,label:t},scopedSlots:e._u([{key:"default",fn:function(a){return[n("div",{on:{dblclick:function(n){n.stopPropagation(),e.handleActive(""+a.$index+t,a.row[t])}}},[e.isEdit[""+a.$index+t]?n("el-input",{on:{blur:function(n){n.stopPropagation(),e.handleEdit(""+a.$index+t,a.row[t],a.row)}},model:{value:a.row[t],callback:function(n){e.$set(a.row,t,n)},expression:"scope.row[key]"}}):n("span",[e._v(e._s(a.row[t]))])],1)]}}])})})),n("el-pagination",{attrs:{"page-size":20,background:"background",pageSize:e.pagesize,"page-sizes":[50,100,200,300,400],total:e.rowcount,layout:"total, sizes, prev, pager, next"},on:{"current-change":e.handleCurrentChange,"prev-click":e.handleCurrentChange,"next-click":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)},staticRenderFns:[]};var Pe=n("VU/8")(Ae,De,!1,function(e){n("UKkN")},null,null).exports,Oe=oe.make("root"),Le={name:"Columns",data:function(){return{keys:[],rowdata:[],isEdit:{},originalData:{}}},created:function(){this.fetch()},watch:{$route:function(){this.fetch()}},methods:{fetch:function(){var e=this;return ee()(I.a.mark(function t(){var n,a;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.request("columns",{query:{keyspace:e.$route.params.keyspace,table:e.$route.params.table}});case 3:n=t.sent,void 0!==(a=n.get())&&a.length>0?(e.keys=Fe()(a[0]),e.rowdata=a.map(function(e){var t=e;return Object(Re.forEach)(t,function(e,n){"object"===(void 0===e?"undefined":je()(e))?t[n]=Te.a.stringify(e):t[n]=e}),t})):(e.keys=[],e.rowdata=[]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.$message({type:"error",showClose:!0,message:t.t0});case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()},rowFormatter:function(e,t,n){return n},handleActive:function(){return null},handleEdit:function(){return null},rowStyle:function(){return{cursor:"pointer"}},jsonParams:function(e){try{return Te.a.parse(e)}catch(t){return e}}}},Ge={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w100"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rowdata,"highlight-current-row":!0,"empty-text":"empty data",stripe:"stripe","row-style":e.rowStyle}},e._l(e.keys,function(t){return n("el-table-column",{key:t,attrs:{formatter:e.rowFormatter,label:t},scopedSlots:e._u([{key:"default",fn:function(a){return[n("div",{on:{dblclick:function(n){n.stopPropagation(),e.handleActive(""+a.$index+t,a.row[t])}}},[e.isEdit[""+a.$index+t]?n("el-input",{on:{blur:function(n){n.stopPropagation(),e.handleEdit(""+a.$index+t,a.row[t],a.row)}},model:{value:a.row[t],callback:function(n){e.$set(a.row,t,n)},expression:"scope.row[key]"}}):n("span",[e._v(e._s(a.row[t]))])],1)]}}])})}))],1)},staticRenderFns:[]};var Ve=n("VU/8")(Le,Ge,!1,function(e){n("vMJy")},null,null).exports,Je=(n("JGZi"),n("UM8r"),oe.make("root")),Ke={name:"Definition",data:function(){return{content:null,cmOptions:{tabSize:4,mode:"text/x-cassandra",theme:"monokai",lineNumbers:!0,line:!0}}},created:function(){this.fetch()},watch:{$route:function(){this.fetch()}},methods:{fetch:function(){var e=this;return ee()(I.a.mark(function t(){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Je.request("describe",{query:{kind:"table",item:e.$route.params.keyspace+"."+e.$route.params.table}});case 3:n=t.sent,e.content=n.text,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$message({type:"error",showClose:!0,message:t.t0});case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()}}},Ne={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("codemirror",{attrs:{options:e.cmOptions},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})},staticRenderFns:[]};var We=n("VU/8")(Ke,Ne,!1,function(e){n("KMjz")},null,null).exports,Be=n("mvHQ"),Ze=n.n(Be),He=oe.make("root"),Ye={name:"Query",data:function(){return{keys:[],rowdata:[],rowcount:0}},created:function(){this.fetch()},watch:{$route:function(){this.fetch()}},methods:{fetch:function(){var e=this;return ee()(I.a.mark(function t(){var n,a;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,He.request("query",{data:{query:e.$route.params.query}});case 3:if(n=t.sent,a=n.get()[0],Object(Re.isArray)(a)){t.next=8;break}return e.$message({type:"success",showClose:!0,duration:0,message:a}),t.abrupt("return");case 8:void 0!==a&&a.length>0?(e.keys=Fe()(a[0]),e.rowdata=a.map(function(e){var t=e;return Object(Re.forEach)(t,function(e,n){"object"===(void 0===e?"undefined":je()(e))?t[n]=Ze()(e):t[n]=e}),t}),e.rowcount=a.length):(e.keys=[],e.rowdata=[],e.rowcount=0),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e.$message({type:"error",showClose:!0,message:t.t0});case 14:case"end":return t.stop()}},t,e,[[0,11]])}))()},rowFormatter:function(e,t,n){return n}}},Ie={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w100"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rowdata,"highlight-current-row":!0,"empty-text":"empty data",stripe:"stripe"}},e._l(e.keys,function(t){return n("el-table-column",{key:t,attrs:{formatter:e.rowFormatter,label:t},scopedSlots:e._u([{key:"default",fn:function(a){return[n("div",[n("span",[e._v(e._s(a.row[t]))])])]}}])})})),n("el-pagination",{attrs:{background:"background",total:e.rowcount,layout:"total"}})],1)},staticRenderFns:[]};var Xe=n("VU/8")(Ye,Ie,!1,function(e){n("LJE9")},null,null).exports;P.default.use(B.a);var et=new B.a({routes:[{path:"/",name:"home",component:H},{path:"/main",name:"Main",component:pe,children:[{path:"query/:query",name:"query",component:Xe},{path:"keyspace/:keyspace",name:"table-list",component:he},{path:"keyspace/:keyspace/:table",component:Ee,children:[{path:"/",name:"content",component:qe},{path:"rows/:page/:pagesize",name:"rows",component:Pe},{path:"columns",name:"columns",component:Ve},{path:"definition",name:"definition",component:We},{path:"*",redirect:{name:"content"}}]}]},{path:"*",redirect:{name:"home"}}]});P.default.config.productionTip=!1,new P.default({el:"#app",router:et,components:{App:W},template:"<App/>",render:function(e){return e(W)}})},PtQk:function(e,t){},QIAS:function(e,t){},SUQY:function(e,t){},Sm8n:function(e,t){},UKkN:function(e,t){},UM8r:function(e,t){},UjAo:function(e,t){},"WS+Y":function(e,t){},"Y+uZ":function(e,t){},a9Mr:function(e,t){},b6Rg:function(e,t){},f0OM:function(e,t){},jDwb:function(e,t){},jlNI:function(e,t){},kpmx:function(e,t){},lh9Z:function(e,t){},ovMW:function(e,t){},sCLk:function(e,t){},vMJy:function(e,t){},vkwB:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.js.map?b2e3e143b4bc9d13216c